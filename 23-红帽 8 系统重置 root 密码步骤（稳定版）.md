## <font style="color:rgb(0, 0, 0);">适用场景</font>
当遗忘红帽 8（RHEL 8）系统的 root 用户密码时，可通过以下步骤安全重置密码，操作需在物理机或具有控制台访问权限的环境中进行。

## <font style="color:rgb(0, 0, 0);">详细步骤</font>
1. **重启系统并进入 GRUB 编辑界面**  
重启红帽 8 系统，待出现 GRUB 启动菜单（显示系统内核选项的界面）时，快速按下 **e** 键，进入内核参数编辑模式。
2. **修改内核启动参数**  
在编辑界面中，找到以 **linux** 开头的行（通常是较长的一行，包含内核路径和启动参数），将光标移动到该行的末尾，添加以下参数：
    - 物理机环境：`rd.break`
    - 虚拟机环境：`rd.break console=tty0`（确保能在控制台正常显示输出）  
添加完成后，按下 **Ctrl+X** 组合键，让系统以修改后的参数启动。
3. **挂载系统根目录为读写模式**  
系统启动后会进入紧急救援模式（显示`switch_root:/#`或类似提示符），执行以下命令重新挂载根目录，获取修改权限：**bash**

```bash
mount -o remount,rw /sysroot
```

  


4. **切换到原系统环境**  
执行`chroot`命令，将当前根目录切换到系统实际的根环境：****

```bash
chroot /sysroot
```

  
此时命令提示符会变为`sh-4.4#`，表示已进入原系统环境。

5. **重置 root 密码**  
输入`passwd`命令，根据提示输入新的 root 密码（输入时无明文显示，需输入两次确认）：**bash**

```bash
passwd
```

  
若密码复杂度较低，系统可能会提示警告，按提示确认即可（通常输入`y`）。

6. **处理 SELinux 上下文（关键步骤）**  
为避免密码修改后因 SELinux 安全上下文异常导致登录失败，执行以下命令生成自动重新标记的触发文件：**bash**

```bash
touch /.autorelabel
```

  


7. **退出并重启系统**  
依次执行以下命令退出当前环境并重启：**bash**

```bash
exit  # 退出chroot环境，回到紧急救援模式
exit  # 退出紧急救援模式，系统自动重启
```

  
重启过程中，系统会因`/.autorelabel`文件触发 SELinux 上下文重新标记，耗时可能较长（取决于系统文件数量），请耐心等待，不要强制中断。

